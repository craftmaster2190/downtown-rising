<div class="col-xs-12 rounded-block">
    TODO: Add API for attaching passes with CityWeekly api
</div>
<div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
    <form ng-if="!$ctrl.forgotPassword && !$ctrl.currentUser()" class="rounded-block">
        <h3>Login</h3>
        <form-input-text title="Email" model="$ctrl.email"></form-input-text>
        <div class="form-group">
            <label>Password</label>
            <input class="form-control" ng-model="$ctrl.password" type="password">
        </div>
        <div ng-show="$ctrl.invalidCreds"
             class="alert alert-danger" role="alert">Invalid username or password.
        </div>
        <button type="submit" class="btn btn-default" ng-disabled="!$ctrl.email || !$ctrl.password"
                ng-click="$ctrl.login($ctrl.email, $ctrl.password)">Login
        </button>
        <button type="button" class="btn btn-default" ng-click="$ctrl.forgotPassword = true">Forgot?</button>
        <a ui-sref="registration">
            <button type="button" class="btn btn-default">Register</button>
        </a>
    </form>
    <form ng-if="$ctrl.forgotPassword" class="rounded-block">
        <h3>Forgot Password</h3>
        <form-input-text title="Email" model="$ctrl.email"></form-input-text>
        <button type="submit" class="btn btn-default">Recover</button>
        <button type="button" class="btn btn-default" ng-click="$ctrl.forgotPassword = false">Back to Login</button>
    </form>
    <div ng-if="$ctrl.currentUser()" class="rounded-block">
        <h3 ng-if="$ctrl.currentUser().name" ng-bind="$ctrl.currentUser().name"></h3>
        <p ng-if="$ctrl.currentUser().email"><b ng-bind="$ctrl.currentUser().email"></b></p>
        <a ui-sref="registration">
            <button type="button" class="btn btn-default">Account</button>
        </a>
        <a ui-sref="password">
            <button type="button" class="btn btn-default">Change Password</button>
        </a>
    </div>
    <form ng-if="$ctrl.currentUser()" class="rounded-block">
        <h3>Attach a pass</h3>
        <form-input-text title="Pass Barcode"></form-input-text>
        <button type="button" class="btn btn-default">City Weekly <i class="glyphicon glyphicon-new-window"></i>
        </button>
        <button type="submit" class="btn btn-default">Attach</button>
    </form>
    <div ng-if="!$ctrl.currentUser()" class="rounded-block">
        <h3>Purchase Tickets at City Weekly</h3>
        <br/>
        <button type="button" class="btn btn-default">City Weekly <i class="glyphicon glyphicon-new-window"></i>
        </button>
        <a ui-sref="registration">
            <button type="button" class="btn btn-default">I have a pass</button>
        </a>
    </div>
</div>


